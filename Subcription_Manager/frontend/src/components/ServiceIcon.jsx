/**
 * ServiceIcon - Hiển thị logo/icon cho các dịch vụ subscription phổ biến
 * Sử dụng Simple Icons SVG paths
 */

// Map tên dịch vụ -> config (color, icon path)
const serviceConfig = {
  netflix: {
    color: '#E50914',
    path: 'M5.398 0v.006c3.028 8.556 5.37 15.175 8.348 23.596 2.344.058 4.85.398 4.854.398-2.8-7.924-5.923-16.747-8.487-24zm8.489 0v9.63L18.6 22.951c-.043-7.603-.004-15.21-.002-22.95zM5.398 1.05V24c1.873-.225 2.81-.312 4.715-.398v-9.22z'
  },
  spotify: {
    color: '#1DB954',
    path: 'M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z'
  },
  youtube: {
    color: '#FF0000',
    path: 'M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z'
  },
  google: {
    color: '#4285F4',
    path: 'M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z'
  },
  microsoft: {
    color: '#00A4EF',
    path: 'M0 0h11.377v11.372H0zm12.623 0H24v11.372H12.623zM0 12.623h11.377V24H0zm12.623 0H24V24H12.623'
  },
  adobe: {
    color: '#FF0000',
    path: 'M14.48 0L24 24h-5.16l-2.76-6.96h-5.64L14.48 0zM9.52 0L0 24h5.16l1.92-4.8h4.2L9.52 0zM12 9.6l2.28 6h-4.56L12 9.6z'
  },
  apple: {
    color: '#000000',
    path: 'M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701'
  },
  amazon: {
    color: '#FF9900',
    path: 'M.045 18.02c.072-.116.187-.124.348-.022 3.636 2.11 7.594 3.166 11.87 3.166 2.852 0 5.668-.533 8.447-1.595l.315-.14c.138-.06.234-.1.293-.13.226-.088.39-.046.493.126.112.18.032.36-.185.53-.28.217-.61.45-.992.7-1.59 1.05-3.393 1.858-5.41 2.426-2.015.57-3.968.854-5.86.854-2.27 0-4.41-.36-6.42-1.078-2.01-.72-3.79-1.81-5.34-3.27-.12-.112-.134-.216-.047-.32zm6.55-3.63c0 .61.18 1.14.54 1.59.36.45.86.75 1.49.91l3.32.71c.71.15 1.24.44 1.58.87.34.43.51.96.51 1.59 0 .69-.22 1.25-.66 1.68-.44.43-1.05.65-1.83.65-.63 0-1.16-.15-1.59-.44-.43-.3-.73-.7-.9-1.21l-2.04.39c.15.86.56 1.55 1.23 2.07.67.52 1.57.78 2.7.78 1.28 0 2.31-.35 3.09-1.04.78-.7 1.17-1.61 1.17-2.74 0-.67-.17-1.24-.51-1.71-.34-.47-.84-.81-1.5-.99l-3.32-.71c-.64-.14-1.11-.38-1.41-.72-.3-.34-.45-.76-.45-1.26 0-.65.21-1.17.63-1.56.42-.39.99-.59 1.71-.59.56 0 1.04.13 1.44.39.4.26.69.63.87 1.11l1.96-.42c-.22-.78-.64-1.41-1.26-1.89-.62-.48-1.44-.72-2.46-.72-1.18 0-2.13.33-2.85.99-.72.66-1.08 1.52-1.08 2.58z'
  },
  discord: {
    color: '#5865F2',
    path: 'M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z'
  },
  slack: {
    color: '#4A154B',
    path: 'M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zm1.271 0a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zm0 1.271a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zm10.124 2.521a2.528 2.528 0 0 1 2.52-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.52V8.834zm-1.271 0a2.528 2.528 0 0 1-2.521 2.521 2.528 2.528 0 0 1-2.521-2.521V2.522A2.528 2.528 0 0 1 15.166 0a2.528 2.528 0 0 1 2.521 2.522v6.312zm-2.521 10.124a2.528 2.528 0 0 1 2.521 2.52A2.528 2.528 0 0 1 15.166 24a2.528 2.528 0 0 1-2.521-2.522v-2.52h2.521zm0-1.271a2.528 2.528 0 0 1-2.521-2.521 2.528 2.528 0 0 1 2.521-2.521h6.312A2.528 2.528 0 0 1 24 15.166a2.528 2.528 0 0 1-2.522 2.521h-6.312z'
  },
  zoom: {
    color: '#2D8CFF',
    path: 'M4.585 11.394V16.4a.69.69 0 0 0 .69.69h6.545c.381 0 .69-.31.69-.69v-5.006a.69.69 0 0 0-.69-.69H5.275a.69.69 0 0 0-.69.69zm12.063 5.006V11.4l4.553-3.322a.345.345 0 0 1 .553.276v7.292a.345.345 0 0 1-.553.276l-4.553-3.322v3.8zM1.725 7.083C.774 7.083 0 7.857 0 8.808v6.384c0 .951.774 1.725 1.725 1.725h12.93c.951 0 1.725-.774 1.725-1.725V8.808c0-.951-.774-1.725-1.725-1.725H1.725z'
  },
  github: {
    color: '#181717',
    path: 'M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12'
  },
  notion: {
    color: '#000000',
    path: 'M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952l1.448.327s0 .84-1.168.84l-3.22.186c-.094-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.14c-.093-.514.28-.887.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z'
  },
  figma: {
    color: '#F24E1E',
    path: 'M15.852 8.981h-4.588V0h4.588c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.491-4.49 4.491zM12.735 7.51h3.117c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-3.117V7.51zm0 1.471H8.148c-2.476 0-4.49-2.014-4.49-4.49S5.672 0 8.148 0h4.588v8.981zm-4.587-7.51c-1.665 0-3.019 1.355-3.019 3.019s1.354 3.02 3.019 3.02h3.117V1.471H8.148zm4.587 15.019H8.148c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h4.588v8.98zM8.148 8.981c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h3.117V8.981H8.148zM8.172 24c-2.489 0-4.515-2.014-4.515-4.49s2.014-4.49 4.49-4.49h4.588v4.441c0 2.503-2.047 4.539-4.563 4.539zm-.024-7.51a3.023 3.023 0 0 0-3.019 3.019c0 1.665 1.365 3.019 3.044 3.019 1.705 0 3.093-1.376 3.093-3.068v-2.97H8.148zm7.704 0h-.098c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h.098c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.49-4.49 4.49zm-.097-7.509c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h.098c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-.098z'
  },
  dropbox: {
    color: '#0061FF',
    path: 'M6 2L0 6.5 6 11l6-4.5L6 2zm12 0l-6 4.5 6 4.5 6-4.5L18 2zM0 15.5L6 20l6-4.5L6 11 0 15.5zm18-4.5l-6 4.5 6 4.5 6-4.5-6-4.5zM6 21.5l6 4.5 6-4.5-6-4.5-6 4.5z'
  },
  chatgpt: {
    color: '#10A37F',
    path: 'M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z'
  },
  canva: {
    color: '#00C4CC',
    path: 'M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm4.14 16.144c-.855.57-1.855.856-3 .856-1.855 0-3.285-.713-4.285-2.143-1-1.428-1.5-3.285-1.5-5.57 0-1.715.357-3.143 1.07-4.286.715-1.143 1.715-1.714 3-1.714.715 0 1.286.214 1.715.643.428.428.643 1 .643 1.714 0 .572-.143 1-.428 1.286-.286.286-.643.428-1.072.428-.285 0-.5-.071-.643-.214-.143-.143-.214-.357-.214-.643 0-.143.036-.286.107-.429.071-.143.107-.25.107-.321 0-.286-.143-.429-.428-.429-.572 0-1.036.357-1.393 1.072-.357.714-.536 1.678-.536 2.892 0 1.572.322 2.857.965 3.857.643 1 1.5 1.5 2.572 1.5.714 0 1.357-.179 1.928-.536.572-.357 1-.857 1.286-1.5l.786.5c-.357.786-.928 1.465-1.714 2.036z'
  },
  trello: {
    color: '#0052CC',
    path: 'M21 0H3C1.343 0 0 1.343 0 3v18c0 1.656 1.343 3 3 3h18c1.656 0 3-1.344 3-3V3c0-1.657-1.344-3-3-3zM10.44 18.18c0 .795-.645 1.44-1.44 1.44H4.56c-.795 0-1.44-.645-1.44-1.44V4.56c0-.795.645-1.44 1.44-1.44H9c.795 0 1.44.645 1.44 1.44v13.62zm10.44-6c0 .794-.645 1.44-1.44 1.44H15c-.795 0-1.44-.646-1.44-1.44V4.56c0-.795.645-1.44 1.44-1.44h4.44c.795 0 1.44.645 1.44 1.44v7.62z'
  },
};

// Normalize tên dịch vụ để match với config
const normalizeServiceName = (name) => {
  if (!name) return null;
  const lower = name.toLowerCase().trim();
  
  // Exact match first
  if (serviceConfig[lower]) return lower;
  
  // Partial match
  for (const key of Object.keys(serviceConfig)) {
    if (lower.includes(key) || key.includes(lower)) return key;
  }
  
  // Special cases
  if (lower.includes('drive') || lower.includes('gmail') || lower.includes('workspace')) return 'google';
  if (lower.includes('office') || lower.includes('365') || lower.includes('onedrive')) return 'microsoft';
  if (lower.includes('prime') || lower.includes('aws')) return 'amazon';
  if (lower.includes('icloud') || lower.includes('music')) return 'apple';
  if (lower.includes('gpt') || lower.includes('openai')) return 'chatgpt';
  if (lower.includes('creative') || lower.includes('photoshop') || lower.includes('illustrator')) return 'adobe';
  
  return null;
};

/**
 * ServiceIcon Component
 * @param {string} serviceName - Tên dịch vụ
 * @param {string} size - Kích thước: 'sm' | 'md' | 'lg'
 * @param {string} className - Custom class
 */
const ServiceIcon = ({ serviceName, size = 'md', className = '' }) => {
  const key = normalizeServiceName(serviceName);
  const config = key ? serviceConfig[key] : null;
  
  const sizes = { sm: 'w-8 h-8', md: 'w-10 h-10', lg: 'w-12 h-12' };
  const iconSizes = { sm: 14, md: 16, lg: 20 };
  
  // Nếu có icon
  if (config) {
    return (
      <div 
        className={`${sizes[size]} rounded-xl flex items-center justify-center shadow-lg ${className}`}
        style={{ backgroundColor: config.color, boxShadow: `0 4px 14px ${config.color}33` }}
      >
        <svg viewBox="0 0 24 24" width={iconSizes[size]} height={iconSizes[size]} fill="white">
          <path d={config.path} />
        </svg>
      </div>
    );
  }
  
  // Fallback: chữ cái đầu với gradient
  const gradients = [
    'from-indigo-500 to-purple-600',
    'from-emerald-500 to-teal-600',
    'from-rose-500 to-pink-600',
    'from-amber-500 to-orange-600',
    'from-cyan-500 to-blue-600',
  ];
  const gradientIndex = serviceName ? serviceName.charCodeAt(0) % gradients.length : 0;
  
  return (
    <div className={`${sizes[size]} rounded-xl bg-gradient-to-br ${gradients[gradientIndex]} flex items-center justify-center text-white font-bold shadow-lg ${className}`}>
      {serviceName?.charAt(0).toUpperCase() || '?'}
    </div>
  );
};

export default ServiceIcon;